<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<!-- Ajax簡易程式庫 jslb_ajax.js -->
<script type="text/javascript"
        src      = "../../lib/jslb_ajax.js"
        charset  = "utf-8"></script>

<script type="text/javascript">
<!--
  //回呼函式 (收到訊息時會被呼叫)
  function on_loaded1(oj) { 
    //取得回應
    var res  =  decodeURIComponent(oj.responseText)
    //將收到的回應輸出到DIV
    document.getElementById("output1").innerHTML = res
  }
  //收發訊函式
  function getMsg(e,oj) {
    if(getKEYCODE(e) != 13) return
      sendRequest(
        on_loaded1,                    //回呼函式
        '&data='+oj.value,             //資料 
        'POST',                        // HTTP方式
        './msg.php', true, true        //URL 非同步 強制載入
      )
  }
  //--傳回按下的鍵盤碼
  function getKEYCODE(e){
    if(e.which)    //n6,n7,moz
      return  e.which
    else           //e4,e5,e6,o7用
      return  event.keyCode
  }
//-->
</script>
<!-- 輸出在此 --><div id="output1"></div>
<form onsubmit="return false">
  <input type = "text"  name = "data"
         onkeypress = "getMsg(event,this)">
</form>
