<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />


<!-- Base64編碼用程式庫 base64.js -->
<script type="text/javascript" src      = "../../lib/base64.js"
        charset  = "utf-8"></script>
<!-- Ajax簡易程式庫 jslb_ajax.js -->
<script type="text/javascript" src      = "../../lib/jslb_ajax_auth2.js"
        charset  = "utf-8"></script>
        
<script type="text/javascript">
<!--

  //回呼函式 (收到訊息時會被呼叫)
  function on_loaded_auth(oj)
  {
    //取得回應
    var res  = decodeURIComponent(oj.responseText)
    
    //顯示回應的字串
    echoauth(res)
  }
  
  //輸出
  function echoauth(msg)
  {
    document.getElementById('echoauthdiv').innerHTML += msg + '<br>'
  }
  

//-->
</script>
<body>
<form name="auth">

  name    :<input name="name" type="text"  value="ajax"><br>
  password:<input name="pwd"  type="password"  value="test"><br>

  <input type    = "button"
         value   = "讀取認證頁面的HTML內容並顯示"
         onclick = "
           sendRequest_auth2(
              on_loaded_auth,             //回呼函式
              '',                         //資料
              'POST',                     //HTTP方式
              './auth/test.htm',          //Basic認證頁面
              true,                       //非同步
              true,                       //強制載入
              this.form.name.value,       //使用者名稱
              this.form.pwd.value         //密碼
          )">
</form>
以JavaScript產生Base64編碼資料進行認證。<br>
測試用將name跟password分別填入了ajax與test，實際上線時應刪除value値。

<hr>
<!-- 輸出於此 -->
<div id="echoauthdiv"></div>

</body>
